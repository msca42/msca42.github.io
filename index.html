<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.0',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false,"dimmer":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
<meta property="og:type" content="website">
<meta property="og:title" content="msca.blog">
<meta property="og:url" content="http://http://msca42.site/index.html">
<meta property="og:site_name" content="msca.blog">
<meta property="og:description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="msca.blog">
<meta name="twitter:description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">






  <link rel="canonical" href="http://http://msca42.site/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>msca.blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">msca.blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    

    

    <a href="/" rel="section">首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    

    

    <a href="/about/" rel="section">关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    

    

    <a href="/tags" rel="section">标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    

    

    <a href="/categories/" rel="section">分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    

    

    <a href="/archives/" rel="section">归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://http://msca42.site/2020/04/12/mysql/高性能MySQL(十)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="msca">
      <meta itemprop="description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
      <meta itemprop="image" content="/images/logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="msca.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/04/12/mysql/高性能MySQL(十)/" class="post-title-link" itemprop="url">高性能MySQL读书笔记(十)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-04-12 22:27:11 / 修改时间：23:23:32" itemprop="dateCreated datePublished" datetime="2020-04-12T22:27:11+08:00">2020-04-12</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">1.5k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">1 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="可扩展的MySQL-下"><a href="#可扩展的MySQL-下" class="headerlink" title="可扩展的MySQL(下)"></a>可扩展的MySQL(下)</h1><h2 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h2><h3 id="定义-负载均衡做了什么"><a href="#定义-负载均衡做了什么" class="headerlink" title="定义(负载均衡做了什么)"></a>定义(负载均衡做了什么)</h3><ul>
<li>在一个服务器集群中尽可能平均负载量</li>
</ul>
<h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><ul>
<li>可扩展性<ul>
<li>对某些策略有所帮助</li>
</ul>
</li>
<li>高效性<ul>
<li>有助于更有效地使用资源</li>
</ul>
</li>
<li>可用性<ul>
<li>时刻保持可用的服务器</li>
</ul>
</li>
<li>透明性</li>
<li>一致性</li>
</ul>
<h3 id="直接连接"><a href="#直接连接" class="headerlink" title="直接连接"></a>直接连接</h3><ul>
<li><p>所谓直接连接指的是应用与MySQL服务器之间直接相连的情况下使用负载均衡</p>
</li>
<li><p>常见方法</p>
<ul>
<li>复制上的读写分离<ul>
<li>需求: 主库读写，备库读</li>
<li>问题: 备库异步，脏数据</li>
</ul>
</li>
<li>修改应用的配置<ul>
<li>配置多台机器分担负载，因为连接备库不同，配置繁琐</li>
</ul>
</li>
<li>修改DNS名</li>
<li>转移IP地址</li>
</ul>
</li>
</ul>
<h3 id="引入中间件"><a href="#引入中间件" class="headerlink" title="引入中间件"></a>引入中间件</h3><ul>
<li>负载均衡器<ul>
<li>存在问题:多数负载均衡器对MySQL没有定制，所以存在一定限制</li>
<li>问题描述<ul>
<li>分发请求时，不知道MySQL真实负载情况下，负载均衡无法做好</li>
<li>连接池和长连接阻碍负载均衡分发连接请求</li>
<li>只针对HTTP服务器做健康和负载检查</li>
</ul>
</li>
</ul>
</li>
<li>负载均衡算法<ul>
<li>随机</li>
<li>轮询</li>
<li>最少连接</li>
<li>最快响应</li>
<li>哈希</li>
<li>权重</li>
</ul>
</li>
<li>在服务器池中增加/移除服务器</li>
</ul>
<h3 id="一主多备的负载均衡"><a href="#一主多备的负载均衡" class="headerlink" title="一主多备的负载均衡"></a>一主多备的负载均衡</h3><ul>
<li>优化技术<ul>
<li>功能分区</li>
<li>过滤和数据分区</li>
<li>将部分写操作转移至备库</li>
<li>保证备库跟上主库</li>
<li>同步写操作</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    
	<div>
	
	</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://http://msca42.site/2020/04/05/mysql/高性能MySQL(九)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="msca">
      <meta itemprop="description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
      <meta itemprop="image" content="/images/logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="msca.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/04/05/mysql/高性能MySQL(九)/" class="post-title-link" itemprop="url">高性能MySQL读书笔记(九)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-04-05 22:46:11 / 修改时间：22:46:28" itemprop="dateCreated datePublished" datetime="2020-04-05T22:46:11+08:00">2020-04-05</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">2.2k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">2 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="可扩展的MySQL"><a href="#可扩展的MySQL" class="headerlink" title="可扩展的MySQL"></a>可扩展的MySQL</h1><h2 id="章节概述"><a href="#章节概述" class="headerlink" title="章节概述"></a>章节概述</h2><ul>
<li>如何构建一个基于MySQL的应用，并且在规模扩容后还能保证快速，高效</li>
</ul>
<h2 id="可扩展性"><a href="#可扩展性" class="headerlink" title="可扩展性"></a>可扩展性</h2><h3 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h3><ul>
<li>可扩展性<ul>
<li>当需要增加资源以执行更多工作时系统能够获得划算的等同提升的能力</li>
<li>当增加资源以处理负载和增加容量时系统能够获得的投资产出率（ROI）</li>
<li>能够通过增加资源的方式，获得划算提升的能力,即使达到收益递减的转折点之后，依旧有提升空间(个)</li>
</ul>
</li>
<li>系统容量<ul>
<li>在一定时间内能够完成的工作量，但容量必须时可以有效利用的(在保证可接受的性能的情况下能够达到的吞吐量)</li>
<li>处理负载的能力<ul>
<li>数据量</li>
<li>用户量</li>
<li>用户活跃度</li>
<li>相关数据集的大小</li>
</ul>
</li>
</ul>
</li>
<li>USL(通用可扩展性定律)<ul>
<li>线性扩展的偏差可通过两个因素来建模<ul>
<li>无法并发执行的一部分工作,需要交互的另外一部分工作<ul>
<li>Amdah1定律，它会导致吞吐量趋于平缓。如果部分任务无法并行，那么无论如何分而治之，至少需要串行部分的时间</li>
</ul>
</li>
<li>内部节点间或者进程间的通信<ul>
<li>取决于信道数量，信道的数量按照系统内工作者数量的二次方增长。因此最终开销比带来的收益增长得更快，这是产生扩展性倒退的原因。</li>
</ul>
</li>
</ul>
</li>
<li>在系统内尽量避免串行化和交互</li>
<li>最优上限值（容量规划和性能预测评估）<ul>
<li>衡量一个系统并使用回归来确定串行和交互的量</li>
</ul>
</li>
<li>最差下限值<ul>
<li>检查系统如何偏离USL模型，系统哪部分没有表现出应有的性能</li>
</ul>
</li>
</ul>
</li>
<li>约束理论<ul>
<li>如何通过减少依赖事件和统计变化来改进系统的吞吐量和性能</li>
</ul>
</li>
</ul>
<h2 id="扩展MySQL"><a href="#扩展MySQL" class="headerlink" title="扩展MySQL"></a>扩展MySQL</h2><ul>
<li>前置<ul>
<li>垂直扩展/向上扩展<ul>
<li>更新设备配置</li>
</ul>
</li>
<li>水平扩展/向外扩展<ul>
<li>将任务分配到多台计算机上</li>
</ul>
</li>
<li>小节概述<ul>
<li>联合使用向上扩展和向外扩展的解决方案</li>
<li>如何使用集群方案来进行扩展</li>
<li>清理或归档不常用数据(向内扩展)</li>
</ul>
</li>
</ul>
</li>
<li>规划可扩展性<ul>
<li>主要解决问题<ul>
<li>工作负载从CPU密集型变成I/O密集型，并发查询的竞争，以及不断增大的延迟</li>
<li>产生原因:查询的复杂的增加或者内存中驻留着一部分不再使用的数据或者索引</li>
</ul>
</li>
<li>难点<ul>
<li>估算需要承担的负载到底有多少</li>
<li>大致正确地估计日程表</li>
</ul>
</li>
<li>规划问题<ul>
<li>应用的功能完成进度</li>
<li>预期的最大负载数量级</li>
<li>依赖的可用性</li>
</ul>
</li>
</ul>
</li>
<li>向外扩展<ul>
<li>复制<ul>
<li>通过复制将数据分发到多个服务器上，然后将备库用于读查询</li>
</ul>
</li>
<li>拆分<ul>
<li>将工作负载分布到多个”节点”</li>
</ul>
</li>
<li>数据分片<ul>
<li>把数据分割程一小片，然后存储到不同的节点中</li>
<li>全局数据一般存储在单个节点中，并且通常保存在类似memcached这样的缓存里</li>
<li>最初设计就要考虑，后期很难变换</li>
<li>主要解决写容量无法扩展的问题</li>
</ul>
</li>
</ul>
</li>
<li>向内扩展<ul>
<li>在清理和归档数据时要注意数据的一致性，保持活跃数据独立，减少对应用造成影响</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    
	<div>
	
	</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://http://msca42.site/2020/03/29/mysql/高性能MySQL(八)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="msca">
      <meta itemprop="description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
      <meta itemprop="image" content="/images/logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="msca.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/03/29/mysql/高性能MySQL(八)/" class="post-title-link" itemprop="url">高性能MySQL读书笔记(八)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-03-29 22:43:10 / 修改时间：23:46:04" itemprop="dateCreated datePublished" datetime="2020-03-29T22:43:10+08:00">2020-03-29</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">1.3k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">1 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="复制的常见问题"><a href="#复制的常见问题" class="headerlink" title="复制的常见问题"></a>复制的常见问题</h3><ul>
<li>数据损坏或丢失错误<ul>
<li>主库意外关闭</li>
<li>备库意外关闭</li>
<li>主库二进制日志损坏</li>
<li>备库中继日志损坏</li>
<li>二进制日志与InnoDB事务日志不同步</li>
</ul>
</li>
<li>使用非事物型表</li>
<li>混合事物型和非事务型表</li>
<li>不确定语句</li>
<li>主库和备库使用不同的存储引擎</li>
<li>备库发生数据改变</li>
<li>不唯一的服务器ID</li>
<li>未定义的服务器ID</li>
<li>对未复制数据的依赖性</li>
<li>丢失的临时表</li>
<li>不复制所有的更新</li>
<li>InnoDB加锁读引起的锁争用</li>
<li>在主-主复制结构中写入两台主库</li>
<li>过大的复制延迟<ul>
<li>产生延迟方式<ul>
<li>突然产生延迟再跟上<ul>
<li>由于一条运行时间很长的查询导致</li>
</ul>
</li>
<li>稳定的延迟增加<ul>
<li>没有长时间运行查询时也会出现</li>
</ul>
</li>
</ul>
</li>
<li>备库优化方式(禁止额外工作，减少备库的负载)<ul>
<li>不要重复写操作中代价较高的部分</li>
<li>在复制之外并行写入</li>
<li>为复制线程预取缓存</li>
</ul>
</li>
</ul>
</li>
<li>来自主库过大的包</li>
<li>受限制的复制带宽</li>
<li>磁盘空间不足</li>
</ul>
<h3 id="MySQL复制的一些高级特性"><a href="#MySQL复制的一些高级特性" class="headerlink" title="MySQL复制的一些高级特性"></a>MySQL复制的一些高级特性</h3><ul>
<li>半同步复制<ul>
<li>确保备库拥有主库数据的拷贝，减少潜在的数据丢失危险</li>
</ul>
</li>
<li>复制心跳<ul>
<li>保证备库一直与主库相关联，避免悄无声息的断开连接</li>
</ul>
</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li>使用复制时需要注意项<ul>
<li>使用Percona Toolkit的pt-table-checksum以确定备库是主库的真实拷贝</li>
<li>监控复制以确定其正在运行并且没有落后于主库</li>
<li>理解复制的异步本质，并且设计你的应用以避免或容忍从备库读取脏的数据</li>
<li>在一个复制topo中不要写入超过一个服务器，把备库配置为只读，并降低权限以组织对数据的改变</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    
	<div>
	
	</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://http://msca42.site/2020/03/21/mysql/高性能MySQL(七)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="msca">
      <meta itemprop="description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
      <meta itemprop="image" content="/images/logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="msca.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/03/21/mysql/高性能MySQL(七)/" class="post-title-link" itemprop="url">高性能MySQL读书笔记(七)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-03-21 21:43:10" itemprop="dateCreated datePublished" datetime="2020-03-21T21:43:10+08:00">2020-03-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-03-22 22:08:23" itemprop="dateModified" datetime="2020-03-22T22:08:23+08:00">2020-03-22</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">3.5k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">3 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="复制"><a href="#复制" class="headerlink" title="复制"></a>复制</h2><h3 id="章节内容概述"><a href="#章节内容概述" class="headerlink" title="章节内容概述"></a>章节内容概述</h3><ul>
<li><p>介绍复制如何工作</p>
</li>
<li><p>讨论基本的复制服务搭建</p>
<ul>
<li>复制相关的配置</li>
<li>如何管理和优化复制服务器</li>
</ul>
</li>
<li><p>复制什么情况下会失败(准确性)</p>
</li>
<li><p>如何使其更好地工作</p>
</li>
</ul>
<h3 id="复制概述"><a href="#复制概述" class="headerlink" title="复制概述"></a>复制概述</h3><ul>
<li><p>MySQL复制方式</p>
<ul>
<li>基于行的复制(5.1)</li>
<li>基于语句的复制(逻辑复制3.23)</li>
</ul>
</li>
<li><p>复制解决的问题</p>
<ul>
<li>数据分布</li>
<li>负载均衡<ul>
<li>将读操作分布到多个服务器上，实现对读密集型应用的优化</li>
</ul>
</li>
<li>备份</li>
<li>高可用性和故障切换</li>
<li>MySQL升级测试</li>
</ul>
</li>
<li><p>复制如何工作</p>
<ul>
<li>概述<ul>
<li>在主库上把数据更改记录到二进制日志(Binary Log)中(这些记录被称为二进制日志事件)</li>
<li>备库将主库上的日志复制到自己的中继系统日志(Relay Log)中</li>
<li>备库读取中继日志中的事件，将其重放到备库数据上              </li>
</ul>
</li>
<li>具体描述<ul>
<li><strong>在主库上记录用二进制日志</strong><ul>
<li>在每次准备提交事务完成数据更新前，主库将数据更新的事件记录到二进制日志中。MySQL会按提交顺序记录二进制日志。在记录二进制日志后，主库会告诉存储引擎可以提交事务了</li>
</ul>
</li>
<li><strong>备库将主库的如今之日志复制到其本地的中继日志中</strong><ul>
<li>备库启动一个工作线程，称为I/O线程</li>
<li>I/O线程跟主库建立一个普通的客户端连接</li>
<li>主库上启动一个特殊的二进制转储线程(该线程没有对应的SQL命令)，这个二进制转储线程会读取主库上二进制日志中的事件。它不会对事件进行轮询</li>
<li>如果该二进制线程赶上主库，它将进入睡眠状态，知道主库发送信号量通知其有新的事件产生时才会被唤醒，备库I/O线程将接收到的事件记录到中继日志中</li>
</ul>
</li>
<li><strong>备库的SQL线程执行最后一步，该线程从中继日志中读取事件并在备库执行，从而实现备库数据的更新</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="配置复制"><a href="#配置复制" class="headerlink" title="配置复制"></a>配置复制</h3><ul>
<li><p>步骤描述</p>
<ul>
<li>在每台服务器上创建复制账号</li>
<li>配置主库和备库</li>
<li>通知备库连接到主库并从主库复制数据</li>
</ul>
</li>
<li><p>具体问题分析</p>
<ul>
<li><p>前置条件1</p>
<ul>
<li>主库和备库都是全新安装并且拥有同样的数据，两台服务器server1和server2，给一个已经运行的服务器配置备库，并讨论推荐的复制配置</li>
</ul>
</li>
<li><p>创建复制账号</p>
<ul>
<li>MySQL会赋予一些特殊的权限给复制线程。<ul>
<li>在主库和备库都创建一个用户，并赋予其合适的权限。备库I/O线程以该用户名连接到主库并读取其二进制日志</li>
<li>主库需要REPLICATION CLIENT权限，方便主备切换</li>
<li>创建语句<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; CRANT REPLICATION SLAVE,REPLICATION CLIENT ON *.*</span><br><span class="line">-&gt; TO repl@&apos;192.168.0.%&apos; IDENTIFIED BY &apos;p4ssword&apos;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>配置主库和备库</p>
<ul>
<li>主库需要打开二进制日志并指定一个独一无二的服务器ID(server ID),在主库的my.cnf文件中增加或修改如下内容：log_bin = mysql-bin  server_id = 10</li>
</ul>
</li>
<li>启动复制<ul>
<li>告诉备库如何连接到主库并重放其二进制日志，通过CHANGE MASTER T0语句。<pre><code>mysql &gt; CHANGE MASTER TO MASTER_HOST = &apos;server1&apos;,
    &gt; MASTER_USER = &apos;rep1&apos;,
    &gt; MASTER_PASSWORD = &apos;p4ssword&apos;,
    &gt; MASTER_LOG_FILE = &apos;mysql-bin.00001&apos;
    &gt; MASTER_LOG_POS = 0;
</code></pre></li>
</ul>
</li>
<li>前置条件2<ul>
<li>一台已经运行一段时间的主库和一台新安装的备库，此时备库无数据</li>
</ul>
</li>
<li>初始化备库/从其他服务器克隆数据<ul>
<li>从主库复制数据<ul>
<li>保持同步条件<ul>
<li>在某个时间点的主库的数据快照</li>
<li>主库当前的二进制日志文件，和获得数据快照时在该二进制日志文件中的偏移量。SHOW MASTER STATUS</li>
<li>从快照时间到现在的二进制日志</li>
</ul>
</li>
</ul>
</li>
<li>从另外一台备库克隆数据</li>
<li>使用最近的一次备份来启动备库</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="复制拓扑"><a href="#复制拓扑" class="headerlink" title="复制拓扑"></a>复制拓扑</h3><ul>
<li><p>基本原则</p>
<ul>
<li>一个MySQL备库实例只能有一个主库</li>
<li>每个备库必须有一个唯一的服务器ID</li>
<li>一个主库可以有多个备库</li>
<li>如果打开了log_slave_updates选项，一个备库可以把其主库上的数据变化传播到其他备库</li>
</ul>
</li>
<li><p>定制化的复制方案</p>
<ul>
<li>选择性复制</li>
<li>分离功能</li>
<li>数据归档</li>
<li>将备库用作全文检索</li>
<li>只读备库</li>
<li>模拟多主库复制</li>
<li>创建日志服务器  </li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    
	<div>
	
	</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://http://msca42.site/2020/03/17/mysql/review/r1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="msca">
      <meta itemprop="description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
      <meta itemprop="image" content="/images/logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="msca.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/03/17/mysql/review/r1/" class="post-title-link" itemprop="url">Review-One</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-03-17 00:46:39 / 修改时间：00:51:40" itemprop="dateCreated datePublished" datetime="2020-03-17T00:46:39+08:00">2020-03-17</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/ARTS/" itemprop="url" rel="index"><span itemprop="name">ARTS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">1.6k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">1 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><ul>
<li><a href="https://itsfoss.com/adobe-alternatives-linux/" target="_blank" rel="noopener">文章来源</a></li>
<li>作者:<a href="https://itsfoss.com/author/ambarish/" target="_blank" rel="noopener">Ambarish Kumar</a></li>
</ul>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><ul>
<li><p><strong>简述:在这篇文章中：我们列举了linux下最好的Adobe替代方法，这些linux下的Adobe全家桶(创建套装)替代方案也都是免费且开源的</strong></p>
</li>
<li><p>现在，在Adobe创意空间中，Adobe提供了一系列的基于Adobe全家桶的软件，它不仅限于PS，还包含许多其他软件，主要在网页设计，logo制作，视频编辑，PDF编辑以及更多方面提供帮助</p>
</li>
<li><p>然而，Adobe全家桶是一个花费你一大笔钱购买专利的软件，并且如果你是一个linux使用者，即使你愿意花这笔钱，平台也获取不到。</p>
</li>
<li><p>在这篇文章中，我们正准备介绍一些linux下优秀的Adobe产品替代品。</p>
</li>
</ul>
<h3 id="linxu下最好的Adobe替代品"><a href="#linxu下最好的Adobe替代品" class="headerlink" title="linxu下最好的Adobe替代品"></a>linxu下最好的Adobe替代品</h3><ul>
<li><p>如果你不在一个阅读文章的氛围中，你可以观看我们YouTube频道，<a href="https://www.youtube.com/c/itsfoss?sub_confirmation=1" target="_blank" rel="noopener">订阅</a>我们YouTube 频道来获取更多Linux相关视频</p>
</li>
<li><p>在这个列表中我确实包含了一个非开源项目，这是因为我真的找不到linux下相近的Adobe Acrobat替代品</p>
</li>
<li><p>除此之外，我们开始吧！</p>
</li>
</ul>
<h3 id="1-GIMP-PS的替代品"><a href="#1-GIMP-PS的替代品" class="headerlink" title="1.GIMP:PS的替代品"></a><strong>1.GIMP:PS的替代品</strong></h3><ul>
<li>PS对于正规专业的使用者老说是一款最受欢迎并且使用广泛的制图编辑工具。它是一款对于照片编辑，网页设计和图形创作者极致的工具</li>
<li>当谈及PS替代品时，GIMP提供了最好的替代</li>
<li>在GNU/Linux,Mac，Windows和其他操作系统上，GIMP是一款免费获取，开源的图像编辑。它提供了少量复杂的工具使得图形设计和摄影师的工作更简单。</li>
<li>从高质量的照片处理到普通的艺术创作，GIMP包含创建图标，图形设计元素，色彩管理特性等选择。并且跟随第三方插件的定制化选择使你的工作更简单。</li>
<li>可能GIMP已经在你的系统上安装了，如果没有，你可以在办公软件仓库中搜索来安装GIMP</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    
	<div>
	
	</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://http://msca42.site/2020/03/15/mysql/高性能MySQL(六)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="msca">
      <meta itemprop="description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
      <meta itemprop="image" content="/images/logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="msca.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/03/15/mysql/高性能MySQL(六)/" class="post-title-link" itemprop="url">高性能MySQL读书笔记(六)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-03-15 20:07:10 / 修改时间：22:00:43" itemprop="dateCreated datePublished" datetime="2020-03-15T20:07:10+08:00">2020-03-15</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">1.7k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">2 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="创建高性能索引-下"><a href="#创建高性能索引-下" class="headerlink" title="创建高性能索引(下)"></a>创建高性能索引(下)</h1><h2 id="MySQL查询的局限性"><a href="#MySQL查询的局限性" class="headerlink" title="MySQL查询的局限性"></a>MySQL查询的局限性</h2><ul>
<li>异史氏曰: 所有局限性应当遵循版本是否修复相应功能。以下列举列举了本书中的具体例子</li>
<li>关联子查询<ul>
<li>MySQL将相关的外层表压到子查询中</li>
<li>用测试来验证对子查询的执行计划和响应时间</li>
</ul>
</li>
<li>UNION的限制<ul>
<li>无法将限制条件从外层”下推”到内层</li>
<li>MySQL会将两个表都存放到同一个临时表中,然后再取出</li>
</ul>
</li>
<li>索引合并优化</li>
<li>等值传递</li>
<li>并行执行</li>
<li>哈希关联</li>
<li>松散索引扫描</li>
<li>最大值和最小值优化</li>
<li>在同一个表上查询和更新</li>
</ul>
<h2 id="查询优化器的提示-hint"><a href="#查询优化器的提示-hint" class="headerlink" title="查询优化器的提示(hint)"></a>查询优化器的提示(hint)</h2><ul>
<li>如果对优化器选择的执行计划不满意，可以使用优化器的几个提示(hint)来控制最终的执行计划</li>
<li>MySQL升级时，优化器提示可能就会失效，即使用前查询相关版本</li>
</ul>
<h2 id="优化特定类型的查询"><a href="#优化特定类型的查询" class="headerlink" title="优化特定类型的查询"></a>优化特定类型的查询</h2><ul>
<li>COUNT()<ul>
<li>作用<ul>
<li>统计某个列的数量，也可以统计行数。在统计列值时要求列值时非空的(不统计NULL)，如果括号中指定了列或列的表达式，则统计的就是整个表达式有值的结果数</li>
<li>统计结果集的行数</li>
</ul>
</li>
</ul>
</li>
<li>优化关联查询<ul>
<li>确保ON或者USING子句中的列上有索引。</li>
<li>确保任何的GROUP BY和ORDER BY中的表达式值涉及到一个表中的列，这样MySQL才能用索引来优化这个过程</li>
<li>升级注意</li>
</ul>
</li>
<li>优化子查询<ul>
<li>5.6之前尽量用关联查询替代</li>
</ul>
</li>
<li>优化GROUP BY和DISTINCT</li>
<li>优化LIMIT分页<ul>
<li>尽可能使用索引覆盖扫描，而不是查询所有列</li>
</ul>
</li>
<li>使用用户自定义变量<ul>
<li>不能使用<ul>
<li>无法查询缓存</li>
<li>不能在使用常量或标识符的地方使用</li>
<li>用户自定义变量生命周期为一个连接，不能做连接间的通信</li>
<li>尽量不要在连接池或持久化连接中使用</li>
<li>代码版本兼容性问题</li>
<li>不能显示地声明自定义变量的类型</li>
<li>赋值表达式应使用括号</li>
<li>使用未定义变量不会产生任何语法错误</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="优化总结"><a href="#优化总结" class="headerlink" title="优化总结"></a>优化总结</h2><ul>
<li>不做，少做，快速做</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    
	<div>
	
	</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://http://msca42.site/2020/03/01/mysql/高性能MySQL(四)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="msca">
      <meta itemprop="description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
      <meta itemprop="image" content="/images/logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="msca.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/03/01/mysql/高性能MySQL(四)/" class="post-title-link" itemprop="url">高性能MySQL读书笔记(四)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-03-01 21:12:10 / 修改时间：22:48:01" itemprop="dateCreated datePublished" datetime="2020-03-01T21:12:10+08:00">2020-03-01</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">1.6k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">1 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="创建高性能索引-下"><a href="#创建高性能索引-下" class="headerlink" title="创建高性能索引(下)"></a>创建高性能索引(下)</h1><h2 id="高性能索引策略"><a href="#高性能索引策略" class="headerlink" title="高性能索引策略"></a>高性能索引策略</h2><ul>
<li>独立的列<ul>
<li>索引列不能是表达式的一部分，也不能是函数的参数</li>
</ul>
</li>
<li>前缀索引与索引的选择性<ul>
<li>索引的选择性<ul>
<li>不重复的索引值(也称为基数)和数据表的记录总数(#T)的比值，范围从1/#T到1之间,索引的选择性越高，查询效率越高</li>
</ul>
</li>
<li>前缀索引<ul>
<li>足够长的前缀，保证其能代表唯一的索引，即前缀的基数接近于完整列的”基数”</li>
</ul>
</li>
</ul>
</li>
<li>索引列顺序<ul>
<li>在不考虑排序和分组时,将选择性最高的列放到索引最前列</li>
</ul>
</li>
<li>聚簇索引<ul>
<li>聚簇索引并不是一种单独的索引类型，而是一种数据存储方式，具体的细节依赖与其实现方式，在InnoDB中保存了数据行和B-Tree索引</li>
<li>当表有聚簇索引时，他的数据行实际上存放在索引的叶子页中</li>
<li>聚簇表示数据行与相邻的键值紧凑地存储在一起</li>
</ul>
</li>
<li>覆盖索引<ul>
<li>一个索引包含所有需要查询的字段的值，其必须存储索引列的值。</li>
<li>MySQL只能使用B-Tree索引做覆盖索引</li>
<li>覆盖索引只能覆盖那些值访问索引中部分列的查询</li>
</ul>
</li>
<li>重复与冗余<ul>
<li>重复索引是指在相同的列上按照相同的顺序创建的相同类型的索引</li>
<li>解决方法<ul>
<li>使用shlomi Noach的common_schema中的一些视图来定位。</li>
<li>使用Percona Toolkit中的pt-duplicate-keychecker</li>
</ul>
</li>
</ul>
</li>
<li>维护索引和表<ul>
<li>找到并修复损坏的表</li>
<li>维护准确的索引统计信息</li>
<li>减少索引和数据的碎片<ul>
<li>行碎片(InnoDB没有)<ul>
<li>数据行被存储为多个地方的多个片段中  </li>
</ul>
</li>
<li>行间碎片<ul>
<li>逻辑上顺序的页，或者行在磁盘上不是顺序存储的。对全表扫描和聚簇索引操作影响较大  </li>
</ul>
</li>
<li>剩余空间碎片<ul>
<li>数据页中有大量的空余空间</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>三大原则<ul>
<li>单行访问很慢。最好读取的块中能包含尽可能多所需的行，使用索引可以创建位置引用以提升效率</li>
<li>按顺序访问范围数据很快<ul>
<li>顺序I/O不需要多次磁盘寻道</li>
<li>如果服务器能按需顺序读取数据，那么就不需要多余的操作了</li>
</ul>
</li>
<li>索引覆盖查询是很快的</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    
	<div>
	
	</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://http://msca42.site/2020/03/01/mysql/高性能MySQL(五)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="msca">
      <meta itemprop="description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
      <meta itemprop="image" content="/images/logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="msca.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/03/01/mysql/高性能MySQL(五)/" class="post-title-link" itemprop="url">高性能MySQL读书笔记(五)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-03-01 21:12:10" itemprop="dateCreated datePublished" datetime="2020-03-01T21:12:10+08:00">2020-03-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-03-08 21:53:36" itemprop="dateModified" datetime="2020-03-08T21:53:36+08:00">2020-03-08</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">2.2k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">2 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="查询性能优化-上"><a href="#查询性能优化-上" class="headerlink" title="查询性能优化(上)"></a>查询性能优化(上)</h1><h2 id="章节概述"><a href="#章节概述" class="headerlink" title="章节概述"></a>章节概述</h2><h3 id="本章主要内容"><a href="#本章主要内容" class="headerlink" title="本章主要内容"></a>本章主要内容</h3><ul>
<li>发现查询效率不高时需要考虑的因素</li>
<li>查询优化技巧</li>
<li>MySQL优化机制<ul>
<li>如何执行查询</li>
<li>如何去改变查询的执行计划</li>
</ul>
</li>
<li>MySQL优化器的不足，并探索查询优化的模式</li>
</ul>
<h3 id="主要目的"><a href="#主要目的" class="headerlink" title="主要目的"></a>主要目的</h3><p>深刻理解MySQL如何真正地执行查询，高效和低效的原因</p>
<h2 id="为什么查询会慢"><a href="#为什么查询会慢" class="headerlink" title="为什么查询会慢"></a>为什么查询会慢</h2><p>异史氏曰：在查询的过程(生命周期)中，响应时间的变化导致查询变慢，具体到每个子任务操作的响应时间。</p>
<h2 id="慢查询的基础-优化数据访问"><a href="#慢查询的基础-优化数据访问" class="headerlink" title="慢查询的基础:优化数据访问"></a>慢查询的基础:优化数据访问</h2><ul>
<li>向数据库请求了不需要的数据</li>
<li>扫描了额外的记录<ul>
<li>指标介绍<ul>
<li>响应时间<ul>
<li>服务时间：数据库处理这个数据真正的花的时间</li>
<li>排队时间：服务器等待资源执行子任务的时间</li>
</ul>
</li>
<li>扫描的行数</li>
<li>返回的行数</li>
</ul>
</li>
</ul>
</li>
<li>查询大量行的数据行但只返回少数的行的优化技巧<ul>
<li>使用索引覆盖扫描，把所有需要用到的列都放到索引中，这样存储引擎无需徽标获取对应行就可以返回结果</li>
<li>改变库表结构</li>
<li>重写这个复杂的查询</li>
</ul>
</li>
</ul>
<h2 id="重构查询的方式"><a href="#重构查询的方式" class="headerlink" title="重构查询的方式"></a>重构查询的方式</h2><ul>
<li>选择正确的查询次数</li>
<li>切分查询</li>
<li>分解关联查询</li>
</ul>
<h2 id="查询执行的基础"><a href="#查询执行的基础" class="headerlink" title="查询执行的基础"></a>查询执行的基础</h2><ul>
<li>一个MySQL请求的运行过程<ul>
<li>客户端发送一条查询给服务器</li>
<li>服务器线检查查询缓存，如果命中缓存，则直接返回缓存中的结果，否则，进入下一阶段</li>
<li>服务器进行MySQL解析，预处理，再由优化器生成对应的执行计划</li>
<li>MySQL根据优化器生成的执行计划，调用存储引擎API执行查询</li>
<li>将结果返回给客户端</li>
</ul>
</li>
<li>MySQL查询状态<ul>
<li>Command: SHOW FULLPROCESSLIST</li>
<li>介绍<ul>
<li>Sleep:线程正等待客户端发送新请求</li>
<li>Query:线程正执行查询或正在将结果发送给客户端</li>
<li>Locked:在MySQL服务器层，该线程再在等待表锁。</li>
<li>Analyzing and statistics:线程正在收集存储引擎的统计信息，并生成查询执行计划</li>
<li>Copying to tmp table [on disk]<ul>
<li>线程正在执行查询，并且将其结果集都复制到一个临时表中。</li>
<li>一般时GROUP BY操作，要么时文件排序操作，或者UNION操作</li>
</ul>
</li>
<li>Sorting result<ul>
<li>线程正在对结果集进行排序</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>MySQL能够处理的优化类型<ul>
<li>重新定义表关联顺序</li>
<li>将外连接转化为内连接</li>
<li>使用等价变换规则</li>
<li>优化COUNT(),MIN(),MAX()</li>
<li>预估并转化为常数表达式</li>
<li>覆盖索引扫描</li>
<li>子查询优化</li>
<li>提前终止查询</li>
<li>等值传播</li>
<li>列表IN()的比较</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    
	<div>
	
	</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://http://msca42.site/2020/02/24/mysql/MySQL基础知识普及/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="msca">
      <meta itemprop="description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
      <meta itemprop="image" content="/images/logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="msca.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/02/24/mysql/MySQL基础知识普及/" class="post-title-link" itemprop="url">MySQL基础知识普及</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-02-24 09:34:10" itemprop="dateCreated datePublished" datetime="2020-02-24T09:34:10+08:00">2020-02-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-03-01 23:02:40" itemprop="dateModified" datetime="2020-03-01T23:02:40+08:00">2020-03-01</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">753</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">1 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="MySQL基础知识普及"><a href="#MySQL基础知识普及" class="headerlink" title="MySQL基础知识普及"></a>MySQL基础知识普及</h1><h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><ul>
<li>为了更好的进行高性能MySQL系列的阅读，由此以《MySQL必知必会》为蓝本进行一次MySQL基础知识的大排查</li>
</ul>
<h2 id="概念普及"><a href="#概念普及" class="headerlink" title="概念普及"></a>概念普及</h2><ul>
<li>数据库<ul>
<li>数据库是一个以某种有组织的方式存储的数据集合</li>
<li>通过数据库软件(DBMS)进行数据库的操作</li>
<li>(个言)简而言之，就是有规则的存放相关资料的场所</li>
</ul>
</li>
<li>表(table)<ul>
<li>表是一种结构化的文件，可以用来存储某种特定类型的数据</li>
<li>存储在表中的数据是一种类型的数据或一个清单</li>
<li>表名具有唯一性，表的特性定义了数据在表中如何存储，如可以存储什么样的数据，数据如何分解，各部分信息如何命名</li>
</ul>
</li>
<li>模式(schema)<ul>
<li>关于数据库和表的布局及特性的信息</li>
</ul>
</li>
<li>列(column)<ul>
<li>表中的一个字段，所有表都是由一个或多个列组成</li>
<li>每个列都有相应的数据类型</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    
	<div>
	
	</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://http://msca42.site/2020/02/23/mysql/高性能MySQL(三)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="msca">
      <meta itemprop="description" content="丝竹响彻无忧宫，独倚斜阳一醉翁">
      <meta itemprop="image" content="/images/logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="msca.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/02/23/mysql/高性能MySQL(三)/" class="post-title-link" itemprop="url">高性能MySQL读书笔记(三)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-02-23 23:30:10" itemprop="dateCreated datePublished" datetime="2020-02-23T23:30:10+08:00">2020-02-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-02-24 09:34:24" itemprop="dateModified" datetime="2020-02-24T09:34:24+08:00">2020-02-24</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">1.8k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">2 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="创建高性能索引（上）"><a href="#创建高性能索引（上）" class="headerlink" title="创建高性能索引（上）"></a>创建高性能索引（上）</h1><h2 id="索引基础"><a href="#索引基础" class="headerlink" title="索引基础"></a>索引基础</h2><h3 id="索引的定义"><a href="#索引的定义" class="headerlink" title="索引的定义"></a>索引的定义</h3><ul>
<li>索引是存储引擎快速找到数据的一种数据结构。<ul>
<li>类似书本的索引目录</li>
</ul>
</li>
</ul>
<h3 id="运行机制"><a href="#运行机制" class="headerlink" title="运行机制"></a>运行机制</h3><ul>
<li>现在索引中找到对应的值，然后根据对应的值检索所有对应的行</li>
</ul>
<h3 id="索引的类型"><a href="#索引的类型" class="headerlink" title="索引的类型"></a>索引的类型</h3><ul>
<li>B-Tree索引<ul>
<li>所有的值都是按顺序存储，并且每一个叶子页到根的距离相同</li>
<li>B-Tree索引加快访问速度<ul>
<li>从根节点出发，由根槽中指向叶子节点的指针，存储引擎根据指针向下查找</li>
<li>索引列是顺序组织存储，很适合查找范围数据<ul>
<li>索引对多个值排序的一句是CREATE TABLE创建的顺序</li>
</ul>
</li>
</ul>
</li>
<li>查询类型<ul>
<li>全键值</li>
<li>键值范围</li>
<li>键前缀查找（最左前缀）</li>
<li>有效<ul>
<li>全值匹配</li>
<li>匹配最左前缀</li>
<li>匹配列前缀</li>
<li>匹配范围值</li>
<li>精确匹配某一列并范围匹配另外一列</li>
<li>只访问索引的查询</li>
</ul>
</li>
<li>限制<ul>
<li>如果不是按照索引的最左列开始查找，则无法使用索引</li>
<li>不能跳过索引的列</li>
<li>如果查询中有某个列的范围查询，则其右边所有列都无法使用索引优化查找</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>哈希索引<ul>
<li>基于哈希表实现，只有精确匹配索引所有列的查询才有效。对于每一行数据，存储引擎都会对所有的索引列计算一个哈希码。哈希索引将所有哈希码存储在索引中，同时在哈希表中保存指向每个数据行的指针，Memory，NDB集群支持</li>
<li>限制<ul>
<li>只包含哈希值和行指针，而不存储字段值，所以不能使用索引中的值来避免读取行。</li>
<li>并不是按照索引值顺序存储，所以也就无法用于排序</li>
<li>不支持部分索引列匹配查找，始终使用索引列的全部内容来计算哈希值</li>
<li>只支持等级比较查询，也不支持任何范围查询</li>
<li>访问哈希索引的数据非常快，除非有很多哈希冲突</li>
<li>如果哈希冲突很多的话，一些索引维护操作的代价也很高</li>
</ul>
</li>
</ul>
</li>
<li>空间数据索引（R-Tree）<ul>
<li>MyISAM支持</li>
<li>PostgreSQL的PostGIS更好</li>
</ul>
</li>
<li>全文索引<ul>
<li>查找文本中的关键词</li>
</ul>
</li>
</ul>
<h2 id="索引的优点"><a href="#索引的优点" class="headerlink" title="索引的优点"></a>索引的优点</h2><ul>
<li>索引大大减少了服务器需要扫描的数据量</li>
<li>索引可以帮助服务器避免排序和临时表</li>
<li>索引可以将随机I/O变为顺序I/O</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    
	<div>
	
	</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/logo.jpg" alt="msca">
            
              <p class="site-author-name" itemprop="name">msca</p>
              <p class="site-description motion-element" itemprop="description">丝竹响彻无忧宫，独倚斜阳一醉翁</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">15</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">标签</span>
                  
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/msca42" title="GitHub &rarr; https://github.com/msca42" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:msca5238@gmail.com" title="E-Mail &rarr; mailto:msca5238@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                友情链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://coolshell.cn/" title="https://coolshell.cn/" rel="noopener" target="_blank">酷壳</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.allhistory.com/" title="https://www.allhistory.com/" rel="noopener" target="_blank">全历史</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.gutenberg.org/" title="http://www.gutenberg.org/" rel="noopener" target="_blank">古登堡</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.ruanyifeng.com/blog/" title="http://www.ruanyifeng.com/blog/" rel="noopener" target="_blank">阮一峰的网络日志</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">msca</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="站点总字数">19k</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="站点阅读时长">17 分钟</span>
  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.0.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.0"></script>

  <script src="/js/src/motion.js?v=7.0.0"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.0"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.0"></script>



  

  


  <script src="/js/src/bootstrap.js?v=7.0.0"></script>


  
  


<!-- LOCAL: You can save these files to your site and update links -->

  
     <!-- <script src="https://cdn.jsdelivr.net/gh/theme-next/theme-next-gitment@1/gitment.browser.js"></script> -->
<script src="https://billts.site/js/gitment.js"></script>

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/theme-next/theme-next-gitment@1/default.css"/> -->
<link rel="stylesheet" href="https://billts.site/extra_css/gitment.css">
<!-- END LOCAL -->

<style>
#gitment-container a {
  border-bottom: none;
}

</style>

<script>
  function renderGitment() {
    var gitment = new Gitment({
      id: '',
      owner: 'msca42',
      repo: 'msca42.github.io',
      
      oauth: {
      
      
        client_secret: '404ed506ef6aa9b73fa3dfb0a5fb5fb3e140300a',
      
        client_id: '89a7384990192e9cf857'
      }
    });
    gitment.render('gitment-container');
  }

  
    renderGitment();
  
</script>

  




  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
